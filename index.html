<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esports Organizer Registration System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gaming: {
                            primary: '#6366f1',
                            secondary: '#8b5cf6',
                            accent: '#06b6d4',
                            dark: '#1f2937',
                            darker: '#111827'
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gradient-to-br from-gaming-darker via-gaming-dark to-gray-900 text-white min-h-screen">
    <!-- Navigation -->
    <nav class="bg-black/50 backdrop-blur-md border-b border-gray-800 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <i class="fas fa-trophy text-gaming-accent text-2xl mr-3"></i>
                        <h1
                            class="text-xl font-bold bg-gradient-to-r from-gaming-primary to-gaming-accent bg-clip-text text-transparent">
                            EsportsHub
                        </h1>
                    </div>
                </div>

                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="showComingSoon()"
                        class="nav-btn hover:text-gaming-accent transition-colors opacity-60 cursor-not-allowed">
                        <i class="fas fa-gamepad mr-2"></i>Tournaments
                    </button>
                    <button onclick="showComingSoon()"
                        class="nav-btn hover:text-gaming-accent transition-colors opacity-60 cursor-not-allowed">
                        <i class="fas fa-medal mr-2"></i>Leaderboards
                    </button>
                    <button onclick="showComingSoon()"
                        class="nav-btn hover:text-gaming-accent transition-colors opacity-60 cursor-not-allowed">
                        <i class="fas fa-broadcast-tower mr-2"></i>Live Matches
                    </button>
                </div>

                <!-- Auth Buttons (shown when not logged in) -->
                <div id="auth-buttons" class="flex items-center space-x-4">
                    <button onclick="showSection('organizer-login')"
                        class="bg-gaming-primary hover:bg-gaming-secondary px-4 py-2 rounded-lg transition-colors">
                        <i class="fas fa-user-tie mr-2"></i>Organizer
                    </button>
                    <button onclick="showComingSoon()"
                        class="bg-gray-600 px-4 py-2 rounded-lg cursor-not-allowed opacity-60">
                        <i class="fas fa-user-gamepad mr-2"></i>Player
                    </button>
                </div>

                <!-- Logout Button (shown when logged in) -->
                <div id="logout-button" class="hidden items-center space-x-4">
                    <span id="user-name-display" class="text-gray-300 mr-2"></span>
                    <button onclick="logout()"
                        class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="min-h-screen">
        <!-- Home/Dashboard Section -->
        <section id="home" class="section active">
            <!-- Hero Section -->
            <div class="relative bg-gradient-to-r from-gaming-primary/20 to-gaming-secondary/20 py-20">
                <div class="max-w-7xl mx-auto px-4 text-center">
                    Esports Organizer Hub
                    </h2>
                    <p class="text-xl text-gray-400 mb-8 max-w-2xl mx-auto leading-relaxed">
                        The ultimate platform for esports event organizers. Register, manage your profile,
                        and join the community of professional tournament organizers.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="browseTournaments()"
                            class="bg-gaming-primary hover:bg-gaming-secondary px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-search mr-2"></i>Browse Tournament
                        </button>
                        <button onclick="createTournament()"
                            class="bg-gaming-primary hover:bg-gaming-secondary px-8 py-4 text-lg font-semibold rounded-xl transition-all transform hover:scale-105">
                            <i class="fas fa-plus-circle mr-2"></i>Create Tournament
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="py-16 bg-black/30">
                <div class="max-w-7xl mx-auto px-4">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="text-4xl font-bold text-gaming-accent mb-2" id="stat-organizers">0</div>
                            <div class="text-gray-300">Registered Organizers</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl font-bold text-gaming-primary mb-2" id="stat-verified">0</div>
                            <div class="text-gray-300">Registered Players</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl font-bold text-green-400 mb-2" id="stat-active">0</div>
                            <div class="text-gray-300">Active Tournaments</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Featured Games -->
            <div class="py-16">
                <div class="max-w-7xl mx-auto px-4">
                    <h2 class="text-3xl font-bold text-center mb-12">Supported Games</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="bg-gray-800/50 rounded-xl p-8 text-center hover:bg-gray-800/70 transition-colors">
                            <i class="fas fa-mobile-alt text-5xl text-gaming-accent mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">PUBG Mobile</h3>
                            <p class="text-gray-300">Battle Royale ‚Ä¢ Solo, Duo, Squad</p>
                        </div>
                        <div class="bg-gray-800/50 rounded-xl p-8 text-center hover:bg-gray-800/70 transition-colors">
                            <i class="fas fa-desktop text-5xl text-gaming-primary mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">Valorant PC</h3>
                            <p class="text-gray-300">Tactical FPS ‚Ä¢ Team-based</p>
                        </div>
                        <div class="bg-gray-800/50 rounded-xl p-8 text-center hover:bg-gray-800/70 transition-colors">
                            <i class="fas fa-crosshairs text-5xl text-gaming-secondary mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">Call of Duty</h3>
                            <p class="text-gray-300">FPS ‚Ä¢ Multiple Modes</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Tournaments Section -->
            <div class="py-16 bg-black/20">
                <div class="max-w-7xl mx-auto px-4">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-3xl font-bold">üèÜ Active Tournaments</h2>
                        <button onclick="browseTournaments()"
                            class="text-gaming-accent hover:text-gaming-primary transition-colors">
                            View All <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                    <div id="tournaments-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Tournaments will be loaded here -->
                        <div class="text-center col-span-full py-8 text-gray-400">
                            <i class="fas fa-spinner fa-spin text-3xl mb-3"></i>
                            <p>Loading tournaments...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Coming Soon Section -->
        <section id="coming-soon" class="section hidden">
            <div class="max-w-4xl mx-auto px-4 py-16 text-center">
                <div class="bg-gray-800/50 rounded-xl p-12">
                    <i class="fas fa-rocket text-6xl text-gaming-accent mb-6"></i>
                    <h2 class="text-4xl font-bold mb-4">Coming Soon!</h2>
                    <p class="text-xl text-gray-300 mb-8">
                        We're working hard to bring you advanced organizer management features.
                        These features will be available soon.
                    </p>
                    <div class="space-y-4 text-gray-400 mb-8">
                        <p><i class="fas fa-calendar mr-3 text-gaming-accent"></i>Event Planning & Scheduling</p>
                        <p><i class="fas fa-users mr-3 text-gaming-primary"></i>Organizer Network & Collaboration</p>
                        <p><i class="fas fa-chart-line mr-3 text-gaming-secondary"></i>Analytics & Performance Tracking
                        </p>
                        <p><i class="fas fa-cog mr-3 text-cyan-400"></i>Advanced Profile Management</p>
                    </div>
                    <button onclick="showSection('home')"
                        class="bg-gaming-primary hover:bg-gaming-secondary px-8 py-3 rounded-lg font-semibold transition-colors">
                        <i class="fas fa-home mr-2"></i>Back to Home
                    </button>
                </div>
            </div>
        </section>

        <!-- Player Login/Registration - Coming Soon -->
        <section id="player-login" class="section hidden">
            <div class="max-w-md mx-auto px-4 py-16">
                <div class="bg-gray-800/50 rounded-xl p-8">
                    <h2 class="text-2xl font-bold text-center mb-6">Player Portal</h2>
                    <div id="player-auth-tabs" class="flex mb-6 border-b border-gray-600">
                        <button onclick="showPlayerTab('login')"
                            class="tab-btn flex-1 py-2 text-center border-b-2 border-gaming-accent">Login</button>
                        <button onclick="showPlayerTab('register')"
                            class="tab-btn flex-1 py-2 text-center">Register</button>
                    </div>

                    <!-- Player Login Form -->
                    <div id="player-login-form" class="auth-form active">
                        <form onsubmit="playerLogin(event)">
                            <div class="mb-4">
                                <label class="block text-sm font-medium mb-2">Email</label>
                                <input type="email" id="player-email"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                    required>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium mb-2">Player ID</label>
                                <input type="text" id="player-id"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                    required>
                            </div>
                            <button type="submit"
                                class="w-full bg-gaming-accent hover:bg-cyan-600 py-2 rounded-lg font-semibold transition-colors">
                                Login
                            </button>
                        </form>
                    </div>

                    <!-- Player Registration Form -->
                    <div id="player-register-form" class="auth-form hidden">
                        <form onsubmit="playerRegister(event)">
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Username</label>
                                    <input type="text" id="reg-username"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Email</label>
                                    <input type="email" id="reg-email"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">In-Game ID</label>
                                    <input type="text" id="reg-ingame-id"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Age</label>
                                    <input type="number" id="reg-age" min="13"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Rank</label>
                                    <input type="text" id="reg-rank"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Platform</label>
                                    <select id="reg-platform"
                                        class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                        required>
                                        <option value="">Select Platform</option>
                                        <option value="PC">PC</option>
                                        <option value="Mobile">Mobile</option>
                                        <option value="Console">Console</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium mb-2">Region</label>
                                <select id="reg-region"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-accent focus:outline-none"
                                    required>
                                    <option value="">Select Region</option>
                                    <option value="North America">North America</option>
                                    <option value="Europe">Europe</option>
                                    <option value="Asia Pacific">Asia Pacific</option>
                                    <option value="South America">South America</option>
                                    <option value="Middle East">Middle East</option>
                                </select>
                            </div>
                            <button type="submit"
                                class="w-full bg-gaming-accent hover:bg-cyan-600 py-2 rounded-lg font-semibold transition-colors">
                                Register
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Organizer Login/Registration -->
        <section id="organizer-login" class="section hidden">
            <div class="max-w-md mx-auto px-4 py-16">
                <div class="bg-gray-800/50 rounded-xl p-8">
                    <h2 class="text-2xl font-bold text-center mb-6">Organizer Portal</h2>
                    <div id="organizer-auth-tabs" class="flex mb-6 border-b border-gray-600">
                        <button onclick="showOrganizerTab('login')"
                            class="tab-btn flex-1 py-2 text-center border-b-2 border-gaming-primary">Login</button>
                        <button onclick="showOrganizerTab('register')"
                            class="tab-btn flex-1 py-2 text-center">Register</button>
                    </div>

                    <!-- Organizer Login Form -->
                    <div id="organizer-login-form" class="auth-form active">
                        <form onsubmit="organizerLogin(event)">
                            <div class="mb-4">
                                <label class="block text-sm font-medium mb-2">Email</label>
                                <input type="email" id="org-email"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    required>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium mb-2">Organizer ID</label>
                                <input type="text" id="org-id"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    required>
                            </div>
                            <div class="space-y-3">
                                <button type="submit"
                                    class="w-full bg-gaming-primary hover:bg-gaming-secondary py-2 rounded-lg font-semibold transition-colors">
                                    Login
                                </button>
                                <button type="button" onclick="showSection('home')"
                                    class="w-full bg-gray-600 hover:bg-gray-700 py-2 rounded-lg font-semibold transition-colors">
                                    <i class="fas fa-home mr-2"></i>Back to Home
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Organizer Registration Form -->
                    <div id="organizer-register-form" class="auth-form hidden">
                        <form onsubmit="organizerRegister(event)">
                            <div class="mb-4">
                                <label class="block text-sm font-medium mb-2">Full Name</label>
                                <input type="text" id="org-reg-name"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium mb-2">Email</label>
                                <input type="email" id="org-reg-email"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium mb-2">Phone Number</label>
                                <input type="tel" id="org-reg-phone"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    placeholder="e.g., +1234567890 or 9876543210" required>
                                <p class="text-xs text-gray-400 mt-1">Enter at least 8 digits (with or without country
                                    code)</p>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium mb-2">Past Event Experience</label>
                                <textarea id="org-reg-experience" rows="4"
                                    class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:border-gaming-primary focus:outline-none"
                                    placeholder="Describe your previous experience organizing tournaments or events..."
                                    minlength="10" maxlength="1000" required></textarea>
                                <p class="text-xs text-gray-400 mt-1">Minimum 10 characters required</p>
                            </div>
                            <div class="space-y-3">
                                <button type="submit"
                                    class="w-full bg-gaming-primary hover:bg-gaming-secondary py-2 rounded-lg font-semibold transition-colors">
                                    Create Account
                                </button>
                                <button type="button" onclick="showSection('home')"
                                    class="w-full bg-gray-600 hover:bg-gray-700 py-2 rounded-lg font-semibold transition-colors">
                                    <i class="fas fa-home mr-2"></i>Back to Home
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>


    </main>

    <!-- Footer -->
    <footer class="bg-black/50 border-t border-gray-800 py-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 text-center text-gray-400">
            <p>&copy; 2025 EsportsHub. Secure tournament management platform.</p>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div id="loading" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="text-center">
            <i class="fas fa-spinner fa-spin text-4xl text-gaming-accent mb-4"></i>
            <p class="text-lg">Loading...</p>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notifications" class="fixed top-20 right-4 z-40 space-y-2">
        <!-- Notifications will appear here -->
    </div>

    <script>
        // Function to create tournament
        function createTournament() {
            console.log('Create tournament function called');

            // Check if organizer is logged in
            const userData = localStorage.getItem('esports_user');
            const userType = localStorage.getItem('esports_user_type');

            console.log('User data:', userData);
            console.log('User type:', userType);

            if (!userData || userType !== 'organizer') {
                console.log('Not authenticated - redirecting to login');
                if (typeof showNotification === 'function') {
                    showNotification('Please login as an organizer to create tournaments', 'error');
                } else {
                    alert('Please login as an organizer to create tournaments');
                }
                if (typeof showSection === 'function') {
                    showSection('organizer-login');
                }
                return false;
            }

            console.log('User authenticated - navigating to create tournament page');
            // Direct navigation to the create-tournament page
            window.location.href = '/create-tournament';
            return true;
        }

        // Function to browse tournaments
        function browseTournaments() {
            showNotification('Browse Tournaments feature coming soon!', 'info');
        }
    </script>

    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/utilities.js"></script>
</body>

</html>