<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
</head>
<body>
    <h1>Tournament API Test</h1>
    <button onclick="testCreate()">Test Create Tournament</button>
    <button onclick="testList()">Test List Tournaments</button>
    <div id="result" style="white-space: pre; margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>

    <script>
        async function testCreate() {
            const data = {
                tournamentName: "Test Tournament " + Date.now(),
                organizerId: "org_test123",
                organizerName: "Test Organizer",
                game: "pubg",
                mode: "squad",
                format: "battle-royale",
                startDate: "2025-12-01T10:00:00",
                endDate: "2025-12-01T18:00:00",
                registrationDeadline: "2025-11-30T23:59:59",
                maxTeams: 32,
                prizePool: 50000,
                minAge: 16,
                numberOfMatches: 5,
                rules: "Test rules"
            };

            try {
                const response = await fetch('/tables/tournaments', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                document.getElementById('result').textContent = JSON.stringify(result, null, 2);
            } catch (error) {
                document.getElementById('result').textContent = 'Error: ' + error.message;
            }
        }

        async function testList() {
            try {
                const response = await fetch('/tables/tournaments');
                const result = await response.json();
                document.getElementById('result').textContent = JSON.stringify(result, null, 2);
            } catch (error) {
                document.getElementById('result').textContent = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
